# HTTP 메시지

## 메시지의 흐름

메시지가 흐르는 방향의 종류는 `인바운드`, `아웃바운드`, `업스트림`, `다운스트림`이 있다.

### 1. 메시지는 원 서버 방향을 인바운드로 하여 송신된다.

`인바운드`와 `아웃바운드`는 HTTP 트랜잭션 방향을 표현하기 위해 사용한다.  
메시지가 **클라이언트 -> 서버** 방향으로 이동하는 것은 `인바운드`로 이동하는 것이고, 서버에서 요청에 대한 처리가 끝난 후 **서버 -> 클라이언트**로 메시지가 이동하는 것은 `아웃바운드`로 이동하는 것이다.

### 2. 다운스트림으로 흐르는 메시지

메시지는 수직적으로 흐른다. 요청 메시지냐 응답 메시지냐에 관계없이, **모든 메시지는 다운스트림으로 흐른다.**  
클라이언트 요청 시, 프락시1 -> 프락시2 -> 프락시3 으로 메시지가 흐른다면 요청에선 **프락시1이 프락시3의 업스트림**이지만 응답 시에는 **프락시3이 프락시1의 업스트림**이다.

<br />

## 메시지의 각 부분

HTTP 메시지는 일반 텍스트 형식인 `시작줄`과 `헤더`, 데이터를 담는 `본문`으로 이루어진다.

<img width="720" alt="image" src="https://github.com/flataex/http-the-definitive-guide-study/assets/67260437/d4d922ed-29f2-4649-ab38-556082327434">  
시작줄은 어떤 메시지인지, 헤더는 속성을 나타낸다.

### 1. 시작줄

- 메서드

  | 메소드  | 설명                                             |
  | ------- | ------------------------------------------------ |
  | GET     | 서버에서 클라이언트로 특정 리소스 전송 요청      |
  | HEAD    | 지정한 리소스에 대한 응답에서 HTTP 헤더만 요청   |
  | POST    | 서버가 처리해야 할 데이터 전송                   |
  | PUT     | 서버에 요청 메시지 본문을 저장                   |
  | TRACE   | 메시지가 프락시를 거쳐 서버에 도달하는 과정 추적 |
  | OPTIONS | 서버가 어떤 메서드를 수행할 수 있는지 확인       |
  | DELETE  | 지정한 리소스를 서버에서 삭제 요청               |

  HTTP 명세를 확장한 `확장 메서드`를 추가로 구현해 사용할 수도 있다.

- 상태코드  
   전체 범위 | 정의된 범위 | 분류
  --|--|--
  100-199 | 100-101 | 정보
  200-299 | 200-206 | 성공
  300-399 | 300-305 | 리다이렉션
  400-499 | 400-415 | 클라이언트 에러
  500-599 | 500-505 | 서버 에러

  상태코드 역시 확장하여 추가될 수 있다.

- 버전 번호
  HTTP/1.0 애플리케이션이 HTTP/1.1 메시지를 받았을 때, 애플리케이션은 HTTP/1.0까지 이해할 수 있다. 버전 번호는 각 자리수 별로 비교한다. 2.22버전은 2.3 버전보다 크다.

### 2. 헤더

HTTP 헤더 필드는 이름/값 쌍의 목록이고, `일반 헤더`, `요청 헤더`, `응답 헤더`, `엔터티 헤더`, `확장 헤더`로 분류된다.  
엔터티 헤더는 본문 크기와 콘텐츠 또는 리소스 자체를 서술한다.

<br />

## 메서드

### 1. 안전한 메서드

`GET`과 `HEAD`는 요청의 결과로 서버에 어떤 작용도 없기 때문에 안전한 메서드에 속한다. 개발 방법에 따라 안전한 메서드를 사용해 서버에 작용을 유발할 수도 있지만, 안전한 메서드의 목적은 서버에 어떤 작용을 일으키는 메서드(안전하지 않은 메서드)가 사용될 때 사용자에게 그 사실을 알려주는 애플리케이션을 만드는 것이다.

### 2. GET

### 3. HEAD

### 4. PUT

### 5. POST

### 6. TRACE

### 7. OPTIONS

### 8. DELETE

### 9. 확장 메소드

<br />

## 상태코드

### 1. 정보성 상태코드

### 2. 성공 상태코드

### 3. 리다이렉션 상태코드

### 4. 클라이언트 에러 상태코드

### 5. 서버 에러 상태코드

<br />

## 헤더

### 1. 일반 헤더

### 2. 요청 헤더

### 3. 응답 헤더

### 4. 엔터티 헤더
