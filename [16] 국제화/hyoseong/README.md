# 국제화

## 16.1 국제적인 콘텐츠를 다루기 위해 필요한 HTTP 지원

- 국제 콘텐츠를 지원하기 위해, 서버는 클라이언트에게 각 문서의 문자와 언어를 알려줘서, 클라이언트가 올바르게 문서를 이루고 있는 비트들을 문자들로 풀어내고, 올바르게 처리해서 사용자에게 콘텐츠를 제공해줄 수 있도록 할 필요가 있습니다.
- 클라이 언트는 서버에게 자신이 어떤 차셋 인코딩 알고리즘들과 언어들을 이해하며 그중 무엇을 선호하는지 말해주기 위해 Accept-Charset과 Accept-Language 헤더를 보냅니다.

```
Accept-Language: fr, en;q=0.8
Accept-Charset: iso-8859-1, utf-8

```

- 매개변수 ‘q=0.8’은 품질 인자(quality factor)이다. 프랑스어(기본값 1.0)보다 영어 에 낮은 우선순위(0.8)을 주는 예시입니다.

## 16.2 문자집합과 HTTP

### 16.2.1 차셋(Charset)은 글자를 비트로 변환하는 인코딩이다

- HTTP 차셋 값은, 어떻게 엔터티 콘텐츠 비트들을 특정 문자 체계의 글자들로 바꾸는지 말해줍니다.

![charset.png](./image/charset.png)

### 16.2.2 문자집합과 인코딩은 어떻게 동작하는가

![character_set.png](./image/character_set.png)

### 16.2.3 잘못된 차셋은 잘못된 글자들을 낳는다

- 만약 클라이언트가 잘못된 charset 매개변수를 사용한다면, 클라이언트는 이상 한 깨진 글자를 보여주게 될 것입니다.

### 16.2.4 표준화된 MIME 차셋 값

- 특정 문자 인코딩과 특정 코딩된 문자집합의 결합을 MIME 차셋이라고 합니다.

### 16.2.5 Content-Type charset 헤더와 META 태그

```
Content-Type: text/html; charset=iso-2022-jp

```

- 웹 서버는 클라이언트에게 MIME 차셋 태그를 charset 매개변수와 함께 Content-Type헤더에 담아 보냅니다.
- 클라이언트가 문자 인코딩을 추측하지 못했다면, iso-8859-l인 것으로 가정합니다.

### 16.2.6 Accept-Charset 헤더

- Accept-Charset 헤더의 값은 클라이언 트가 지원하는 문자 인코딩의 목록을 제공합니다.
- Accept-Charset 요청 헤더에 대웅하는‘ Content-Charset 응답 헤더는 존재하지 않습니다. 대신에 웅답 문자집합은 MIME과의 호환을 위해 Content-Type 응답 헤더의 charset 매개변수를 통해 서버로부터 응답받습니다.

## 16.3 다중언어 문자 인코딩에 대한 지침

### 16.3.1 문자집합용어

- 문자 : 유니코드
- 글리프(glyph): 하나의 글자를 표현하기 위한, 획의 패턴
- 코딩된 문자(coded character) : 글자에 할당된 유일한 숫자
- 코드 공간(coding space) : 문자 코드 값으로 사용하려고 계획해 둔 정수의 범위
- 코드 너비(code width) : (고정된 크기의) 비트 개수
- 사용 가능 문자집합(character repertoire) : 세상에 존재하는 모든 글자의 부분집합
- 코딩된 문자집합(coded character set) : 실제 글자 들에 숫자로 된 문자 코드를 대웅시킨 것
- 문자 인코딩 구조 : 숫자로 된 문자 코드들을 콘텐츠 비트의 연속으로 인코딩, 디코딩하는 알고리즘

### 16.3.2 ‘차셋(Charset)’은 형편없는 이름이다

- MIME 차셋 값은 데이 터 비트를 고유한 문자의 코드로 매핑하는 알고리즘의 이름입니다.

### 16.3.3 문자

### 16.3.4 글리프(glyphs), 연자(ligatures) 그리고 표현 형태

### 16.3.5 코딩된 문자집합(Coded Character Set)

### 16.3.6 문자 인코딩 구조

## 16.4 언어 태그와 HTTP

- 언어 태그는 언어에 이름을 붙이기 위한 짧고 표준화된 문자열입니다.

### 16.4.1 Content-Language 헤더

- Content-Language 엔터티 헤더 필드는 엔터티가 어떤 언어 사용자를 대상으 로 하고 있는지 알려줍니다.

### 16.4.2 Accept-Language 헤더

- HTTP는 우리에게 우리의 언어 제 약과 선호도를 Accept-Language 헤더 웹 서버에 전달할 수 있게 해줍니다.

### 16.4.3 언어 태그의 종류

### 16.4.4 서브태그

- 언어 태그는 하이픈으로 분리된 하나 이상의 서브태그로 이루어져 있습니다.
- sgn-US-MA 는 첫번째 태그(sgn)은 표준화된 언어 토큰, 두번째 태그(US)는 국가, 세번째 태그(MA) 지역입니다.

### 16.4.5 대소문자의 구분 및 표현

- 모든 태그는 대소문자가 구분되지 않지만 관용적으로 소문자 사용

### 16.4.6 IANA 언어 태그 등록

### 16.4.7 첫 번째 서브태그: 이름공간

### 16.4.8 두 번째 서브태그: 이름공간

### 16.4.9 나머지 서브태그: 이름공간

### 16.4.10 선호 언어 설정하기

### 16.4.11 언어 태그 참조표

## 16.5 국제화된 URI

### 16.5.1 국제적 가독성 vs 의미 있는 문자들

### 16.5.2 URI에서 사용될 수 있는 문자들

- URI에서 사용할 수 있는 US-ASCII 문자들의 부분집합은 예약된 문자들, 예약되지 않은 문자들, 이스케이프 문자들입니다

### 16.5.3 이스케이핑과 역이스케이핑(unescaping)

- URI 이스케이프는 예약된 문자나 다른 지원하지 않는 글자들(스페이스와 같이)을 안전하게 URI에 삽입할 수 있는 방법을 제공합니다.
- 이스케이프는 퍼센트 글자(%) 하나와 뒤이은 16진수 글자 둘로 이루어진 세 글자 문자열입니다.

### 16.5.4 국제 문자들을 이스케이핑하기

- 이스케이프 값들은 US-ASCII 코드의 범위(0-127)에 있어야 함에 주의해야합니다.
- 확장문자들에서 이스케이프값을 사용하려하면 오류가 생길수 있습니다.

## 16.6 기타 고려사항

### 16.6.1 헤더와 명세에 맞지 않는 데이터

- HTTP 헤더는 반드시 US-ASCII 문자집합의 글자들로만 이루어져야 합니다.

### 16.6.2 날짜

- HTTP 명세는 올바른 GMT 날짜 형식을 명확히 정의하고 있지만 모든 웹 서버와 클 라이언트가 규칙을 따르고 있지 않음에 주의해야합니다.

### 16.6.3 도메인 이름

- 국제화 문자를 포함하는 도메인 이름을 ‘국제화 도메인 이름(internationalizing Domain Name)’이라고 하는데, 오늘날 대부분의 웹브라우저가 퓨니코드(punycode) 를 이용해 이를 지원합니다.
- 예를 들어, ‘한글.com’은 ‘xn- bj0bj06e.com’으로 변환합니다.
